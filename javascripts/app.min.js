"use strict";!function(e){var n=document.querySelector("#gameBox"),o=document.querySelector("#orientation"),t=document.querySelector(".elements .gift"),i=document.querySelector("#gameBox .catcher"),r=document.querySelector("#startBtn"),a=document.querySelector("#pauseBtn"),c=document.querySelector("#resetBtn"),l=2e4,d=[1e3,800,600,400,200],u=[],s=40,f=60,m=new TimelineMax({delay:.5}),h=function e(o){var i=t.cloneNode();i.dataset.point=o,n.append(i);var r=n.offsetWidth-40,a=q(40,r),c=n.offsetHeight+40,l=q(2,4),d=q(0,55);return m.fromTo(i,l,{x:a},{y:"+="+r,ease:Power0.easeNone,onComplete:function e(){i.remove()}},d),i},g=function e(n,o){var t=[],i=0;do{i=n[S(0,n.length-1)]||0,i>n[0]&&(n.shift(),console.log("shift: "+n)),i<=o&&(o-=i,t.push(i))}while(o>0);return t},v=function e(n){var t=n.alpha,i=n.beta,r=n.gamma,a={alpha:Math.round(t),beta:Math.round(i),gamma:Math.round(r)};o.innerHTML=JSON.stringify(a),console.log(a)},p=function n(){e.DeviceOrientationEvent?(console.log("in move"),o.innerHTML="in Move",e.addEventListener("deviceorientation",v,!1)):(console.log("not support orientation"),o.innerHTML="not support orientation")},y=function e(){m.clear(),u=L(g(d,2e4)),u.forEach(function(e,n){h(e)}),m.play(0)},M=function e(o){for(;n.firstChild;)n.removeChild(n.firstChild);"function"==typeof o&&o()},b=function e(n){console.log("onComplete"),console.log(n)},S=function e(n,o){return Math.round(Math.random()*(o-n)+n)},q=function e(n,o){return Math.random()*(o-n)+n},L=function e(n){for(var o=n.length-1;o>0;o--){var t=Math.floor(Math.random()*(o+1)),i=[n[t],n[o]];n[o]=i[0],n[t]=i[1]}return n},T=function e(n,o){return n+o};r.addEventListener("click",function(){m._time>=m.endTime()||0===m._time?(console.log(m._time,m.endTime()),console.log("click to start"),M(y)):m.play(),r.disabled=!0,a.disabled=!1,c.disabled=!1}),a.addEventListener("click",function(){m.paused(!0),r.disabled=!1,a.disabled=!0}),c.addEventListener("click",function(){console.log("click to reset"),M(y),r.disabled=!0,a.disabled=!1}),p()}(window);